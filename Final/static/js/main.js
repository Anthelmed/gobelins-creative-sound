!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var Background=function(){function Background(options){_classCallCheck(this,Background),this.width=options.width,this.height=options.height,this.x=options.x,this.y=options.y,this.color=options.color,this.nbBlocs=options.nbBlocs,this.level=0}return _createClass(Background,[{key:"draw",value:function(p){p.noStroke();for(var blockHeight=this.height/this.nbBlocs,b=0;b<this.nbBlocs;b++){var alpha=p.map(b,0,this.nbBlocs,150,200+1.5*this.level),newColor=p.color(this.color.levels[0],this.color.levels[1],this.color.levels[2],alpha);p.fill(newColor),p.rect(this.x,blockHeight*b,this.width,blockHeight)}}}]),Background}();exports.default=Background},{}],2:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var Eye=function(){function Eye(options){_classCallCheck(this,Eye),this.width=options.width,this.height=options.height,this.x=options.x,this.y=options.y,this.color=options.color,this.space=options.space,this.delay=options.delay,this.blink=options.blink}return _createClass(Eye,[{key:"draw",value:function(p){var color,_this=this;this.blink?(color=p.color(this.color.levels[0],this.color.levels[1],this.color.levels[2],20),setTimeout(function(){_this.blink=!1,_this.delay=p.round(p.random(600,1e3))},p.round(p.random(100,150)))):color=this.color,p.noStroke(),p.fill(color),p.rect(this.x-this.space/2,this.y,this.width,this.height),p.rect(this.x+this.space/2,this.y,this.width,this.height)}}]),Eye}();exports.default=Eye},{}],3:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var Head=function(){function Head(options){_classCallCheck(this,Head),this.width=options.width,this.height=options.height,this.x=options.x,this.y=options.y,this.img=options.img}return _createClass(Head,[{key:"draw",value:function(p){p.image(this.img,this.x,this.y)}}]),Head}();exports.default=Head},{}],4:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var Mouth=function(){function Mouth(options){_classCallCheck(this,Mouth),this.width=options.width,this.height=options.height,this.x=options.x,this.y=options.y,this.singTimeline=options.singTimeline,this.sing=!1,this.color=options.color,this.colorLips=options.colorLips}return _createClass(Mouth,[{key:"draw",value:function(p){p.stroke(this.colorLips),p.strokeWeight(4),p.fill(this.color),p.rect(this.x,this.y,this.width,this.height)}}]),Mouth}();exports.default=Mouth},{}],5:[function(require,module){"use strict";var singTimeline=[[{start:7.3,stop:15.17},{start:29,stop:41},{start:118.4,stop:118.8},{start:124.6,stop:148.3},{start:159.4,stop:163.2}],[{start:44.1,stop:59.5},{start:104.6,stop:118.3},{start:169.5,stop:185}],[{start:73.7,stop:86.7}],[{start:88.1,stop:104.2}],[{start:15.35,stop:29},{start:41,stop:44.1},{start:59.5,stop:73.2},{start:87.2,stop:88},{start:136.2,stop:137},{start:139.9,stop:140.8},{start:141.7,stop:142.5},{start:185,stop:200}]];module.exports=singTimeline},{}],6:[function(require){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}{var _singTimeline=require("./singTimeline.js"),_singTimeline2=_interopRequireDefault(_singTimeline),_head=require("./head.js"),_head2=_interopRequireDefault(_head),_mouth=require("./mouth.js"),_mouth2=_interopRequireDefault(_mouth),_eye=require("./eye.js"),_eye2=_interopRequireDefault(_eye),_background=require("./background.js"),_background2=_interopRequireDefault(_background),s=function(p){var fft,windowHeight=window.innerHeight,windowWidth=window.innerWidth,imgs=[],sounds=[],amplitudes=[],energizes=[],heads=[],mouthes=[],eyes=[],backgrounds=[];p.preload=function(){imgs[0]=p.loadImage("img/head1.svg"),imgs[1]=p.loadImage("img/head2.svg"),imgs[2]=p.loadImage("img/head3.svg"),imgs[3]=p.loadImage("img/head4.svg"),sounds[0]=p.loadSound("sound/voice.mp3"),sounds[1]=p.loadSound("sound/instrumental.mp3")},p.setup=function(){p.createCanvas(windowWidth,windowHeight);for(var b=0;b<imgs.length;b++){var options={width:windowWidth/4,height:windowHeight,x:windowWidth/4*b,y:0,nbBlocs:20};switch(b){case 0:options.color=p.color(244,175,53);break;case 1:options.color=p.color(113,179,75);break;case 2:options.color=p.color(219,39,91);break;case 3:options.color=p.color(27,110,174)}var background=new _background2.default(options);backgrounds.push(background)}for(var h=0;h<imgs.length;h++){var options={width:imgs[h].width,height:imgs[h].height,x:windowWidth/4*h+(windowWidth/4-imgs[h].width)/2,y:windowHeight-imgs[h].height,img:imgs[h]},head=new _head2.default(options);heads.push(head)}for(var m=0;m<imgs.length;m++){var options={width:50,height:0,x:windowWidth/4*m+(windowWidth/4-50)/2,y:windowHeight-heads[m].height/4,singTimeline:_singTimeline2.default[m],color:p.color(255,255,255)};switch(m){case 0:options.x+=10,options.y-=15,options.colorLips=p.color(130,96,51);break;case 1:options.y-=10,options.colorLips=p.color(198,14,58);break;case 2:options.colorLips=p.color(185,153,126);break;case 3:options.y+=11,options.colorLips=p.color(127,91,42)}var mouth=new _mouth2.default(options);mouthes.push(mouth)}for(var e=0;e<imgs.length;e++){var options={width:35,height:85,x:windowWidth/4*e+(windowWidth/4-35)/2,y:windowHeight-heads[e].height/2.5-42.5,color:p.color(0,0,0),space:0,delay:p.round(p.random(600,1e3))};switch(e){case 0:options.x+=10,options.width=40,options.space=155;break;case 1:options.space=155;break;case 2:options.y+=6,options.height-=11,options.width=40,options.space=130;break;case 3:options.y+=11,options.height+=3,options.space=145}var eye=new _eye2.default(options);eyes.push(eye)}for(var i=0;i<sounds.length;i++)amplitudes[i]=new p5.Amplitude,sounds[i].setVolume(.5),sounds[i].play(),amplitudes[i].setInput(sounds[i]);fft=new p5.FFT,fft.setInput(sounds[1])},p.draw=function(){p.background(255);var time=p.round(p.millis()),currentTime=sounds[0].currentTime();if(amplitudes[0])var levelVoice=amplitudes[0].getLevel();fft&&(fft.analyze(),energizes[0]=fft.getEnergy("bass"),energizes[1]=fft.getEnergy("lowMid"),energizes[2]=fft.getEnergy("mid"),energizes[3]=fft.getEnergy("highMid"));for(var b=0;b<backgrounds.length;b++)backgrounds[b].level=energizes[b],backgrounds[b].draw(p);for(var h=0;h<heads.length;h++)heads[h].draw(p);for(var e=0;e<eyes.length;e++)time%eyes[e].delay==0&&(eyes[e].blink=!0),eyes[e].draw(p);for(var m=0;m<mouthes.length;m++){mouthes[m].sing=!1;for(var s=0;s<mouthes[m].singTimeline.length;s++)currentTime>=mouthes[m].singTimeline[s].start&&currentTime<=mouthes[m].singTimeline[s].stop?(mouthes[m].sing=!0,mouthes[m].height=p.map(levelVoice,0,.07,0,15)):mouthes[m].height=0,mouthes[m].draw(p)}for(var allTimeline=_singTimeline2.default[4],a=0;a<allTimeline.length;a++)if(currentTime>=allTimeline[a].start&&currentTime<=allTimeline[a].stop)for(var m=0;m<mouthes.length;m++)mouthes[m].sing=!0,mouthes[m].height=p.map(levelVoice,0,.07,0,15),mouthes[m].draw(p);else for(var m=0;m<mouthes.length;m++)mouthes[m].height=0,mouthes[m].draw(p)},p.windowResized=function(){windowHeight=window.innerHeight,windowWidth=window.innerWidth;for(var h=0;h<heads.length;h++)heads[h].x=windowWidth/4*h+(windowWidth/4-imgs[h].width)/2,heads[h].y=windowHeight-imgs[h].height;for(var m=0;m<mouthes.length;m++)switch(mouthes[m].x=windowWidth/4*m+(windowWidth/4-50)/2,mouthes[m].y=windowHeight-heads[m].height/4,m){case 0:mouthes[m].x+=10,mouthes[m].y-=15;break;case 1:mouthes[m].y-=10;break;case 3:mouthes[m].y+=11}for(var e=0;e<eyes.length;e++)switch(eyes[e].x=windowWidth/4*e+(windowWidth/4-35)/2,eyes[e].y=windowHeight-heads[e].height/2.5-42.5,e){case 0:eyes[e].x+=10;break;case 2:eyes[e].y+=6;break;case 3:eyes[e].y+=11}for(var b=0;b<backgrounds.length;b++)backgrounds[b].width=windowWidth/4,backgrounds[b].height=windowHeight,backgrounds[b].x=windowWidth/4*b;p.resizeCanvas(windowWidth,windowHeight)}};new p5(s)}},{"./background.js":1,"./eye.js":2,"./head.js":3,"./mouth.js":4,"./singTimeline.js":5}]},{},[6]);